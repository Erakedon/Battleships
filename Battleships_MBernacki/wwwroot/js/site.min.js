function submitNickname(){let n=document.querySelector("#nicknameInput"),t=document.querySelector("#nicknameErrorLabel");if(t.textContent="",n.value.length<3){t.textContent+="Nickname mus have at least 3 haracters";return}let i=n.value;localStorage.setItem("userNickname",JSON.stringify(i));console.log("Nickname submitted: "+i);window.location.href="/home/lobby/"}function submitCreateRoom(){let n=document.querySelector("#roomNameInput"),i=document.querySelector("#roomPasswordInput"),t=document.querySelector("#roomNameErrorLabel");if(t.textContent="",n.value.length<1)t.textContent+="Room name cannot be blank";else{let t=i.value||"";createNewRoom(n.value,t)}}function togglePopUp(n){let t=document.querySelector(n);t.style.display=t.style.display=="none"?"flex":"none"}function checkIfNicknameSet(){let n=JSON.parse(localStorage.getItem("userNickname"));n||(window.location.href="/home/index/")}function createNewRoom(n,t){let r=JSON.parse(localStorage.getItem("userNickname"));r||(window.location.href="/home/index/");let u={roomName:n,playername:r,password:t};var i={};i.url="/api/room/CreateRoom";i.type="POST";i.contentType="application/json";i.data=JSON.stringify(u);i.dataType="json";i.success=n=>{console.log("Room succesfully created!",n),enterRoom(n)};i.error=()=>{console.log("Server error")};$.ajax(i)}function joinRoom(n,t){console.log("joinRoom");let r=JSON.parse(localStorage.getItem("userNickname"));r||(window.location.href="/home/index/");let u={roomId:n,playername:r,password:t};var i={};i.url="/api/room/JoinRoom";i.type="POST";i.contentType="application/json";i.data=JSON.stringify(u);i.dataType="json";i.success=n=>{console.log("Room joined!",n),enterRoom(n)};i.error=n=>{console.log(n)};$.ajax(i)}function enterRoom(n){localStorage.setItem(n.roomID,JSON.stringify(n));window.location.href="/home/gameroom/"+n.roomID}function updateRoomList(n){let i=document.querySelector(n);for(console.log("divToPassList: ",n);i.firstChild;)i.removeChild(i.firstChild);var t={};t.url="/api/room/GetRoomList";t.type="GET";t.dataType="json";t.success=function(t){t.forEach(function(t){console.log(t);let i=document.createElement("div");i.classList.add("roomInfo");let r=document.createElement("div");r.classList.add("roomName");r.textContent=t.roomName;let u=document.createElement("div");if(u.classList.add("playerName"),u.textContent=t.ownerName,i.appendChild(r),i.appendChild(u),t.requirePassword){let n=document.createElement("i");n.classList.add("fas","fa-lock");i.appendChild(n);i.onclick=()=>{togglePopUp(RoomPasswordPopUp)}}else i.onclick=()=>{joinRoom(t.roomID,"")};document.querySelector(n).appendChild(i)})};t.error=function(){$("#msg").html("Error while calling the Web API!")};$.ajax(t)}function initializeGameplay(){playerMap=new ShipsMap("#playerMap",mapSize,shipsList)}function positionShip(){}let mapSize=6,shipsList=[0,3,2,1],oponentCells=new Array(mapSize),playerCells=new Array(mapSize),playerMap;